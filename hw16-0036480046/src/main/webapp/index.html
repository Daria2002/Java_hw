<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/htmlescaping.js"></script>
<script type="text/javascript"><!--

		$.ajax(
		  {
			  url: "rest/imagej/tags",
			  data: {
				  dummy: Math.random()
			  },
			  dataType: "json",
			  success: function(data) {
					var tags = data; // već je JSON zbog dataType gore...
					var html = "";
					if(tags.length==0) {
						html = "Nema rezultata..."
					} else {
						for(var i=0; i<tags.length; i++) {
							html += "<input type='button' onclick='getThumbnailImages(\"" + htmlEscape(tags[i]) + "\")' value='" + htmlEscape(tags[i]) + "'>";
						}
					}
					$("#tags").html(html);
			  }
		  }
		);

		function getThumbnailImages(tag) {$.ajax(
				  {
					  url: "rest/imagej/thumbnails/" + tag,
					  data: {
						  dummy: Math.random()
					  },
					  dataType: "json",
					  success: function(data) {
							var thumbnails = data; // već je JSON zbog dataType gore...
							var html = "";
							if(thumbnails.length==0) {
								html = "Nema rezultata..."
							} else {
								for(var i=0; i<thumbnails.length; i++) {
									html += "<img src='servlets/thumbnails?imageName=" + 
											htmlEscape(thumbnails[i]) + "' onclick='getImage(\"" +
													htmlEscape(tags[i]) + "\")'>";
								}
							}
							$("#thumbnails").html(html);
							$("#images").html("");
					  }
				  }
				);
		}
		
		function getImage(imageName) {
		}
	

//--></script>


</head>

<body>
	
	<h1>Cities in Croatia</h1>
	
	<div id="tags">&nbsp;</div>
	<div id="thumbnails">&nbsp;</div>
	<div id="images">&nbsp;</div>

</body>
</html>